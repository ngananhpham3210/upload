#download-controls-container {
  position: fixed;
  z-index: 9999;
  /* The container is now a positioning context for the absolute checkbox. */
  /* We remove the flex properties so its size is determined by the button. */
  cursor: grab;
}

#download-controls-container:active {
  cursor: grabbing;
}

#download-last-turn-btn {
  width: 50px;
  height: 50px;
  background-color: #4285F4; /* Google Blue */
  color: white;
  border-radius: 50%;
  border: none;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

#download-last-turn-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

/* Tooltip Styling */
#download-last-turn-btn::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 115%; /* Position above the button */
  left: 50%;
  transform: translateX(-50%);
  background-color: #333;
  color: #fff;
  padding: 6px 10px;
  border-radius: 5px;
  font-size: 12px;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s, visibility 0.2s;
}

#download-last-turn-btn:hover::after {
  opacity: 1;
  visibility: visible;
}

/* --- REVISED Auto-Download Checkbox Styles --- */

/* The label is now an invisible, positioned container for the checkbox */
.auto-download-label {
    position: absolute;
    /* Adjusted positioning for the smaller size */
    top: -4px;
    right: -4px;
    z-index: 10000; /* Ensure it's on top and clickable */
    
    /* Remove all visual styling from the label itself */
    background-color: transparent;
    padding: 0;
    border: none;
    box-shadow: none;
    font-size: 0; /* Ensures the label itself takes up no extra space */
    line-height: 0;
    cursor: pointer;
    user-select: none;
}

#auto-download-checkbox {
    appearance: none;
    -webkit-appearance: none;
    
    /* --- MODIFIED: Made smaller --- */
    width: 16px;
    height: 16px;
    
    /* Style to stand out against the blue button */
    background-color: #fff;
    border: 1.5px solid #fff; /* Slightly thinner border for smaller size */
    box-shadow: 0 1px 4px rgba(0,0,0,0.3); /* Adjusted shadow */
    border-radius: 50%; /* Make it a circle to complement the button */
    cursor: pointer;
    position: relative;
    transition: all 0.2s ease-in-out;
    margin: 0;
}

#auto-download-checkbox:checked {
    background-color: #34A853; /* Google Green provides clear "on" state feedback */
    border-color: #fff; /* Keep the white border for contrast */
}

#auto-download-checkbox:checked::after {
    content: 'âœ”';
    /* --- MODIFIED: Smaller checkmark --- */
    font-size: 11px;
    font-weight: bold;
    color: white;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
